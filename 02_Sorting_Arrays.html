<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="btn1">Show String</button>
    <button id="btn2">Reverse</button>
    <button id="btn3">Oreder String</button>
    <button id="btn31">Oreder String Desc</button>
    <hr />
    <button id="btn41">Show Numbers</button>
    <button id="btn4">Oreder Number Asc</button>
    <button id="btn5">Oreder Number Desc</button>
    <hr />
    <button id="btn6-1">Show Products</button>
    <button id="btn6">Oreder Products (title)</button>
    <button id="btn6-2">Oreder Products (Brand DESC)</button>
    <button id="btn7">Oreder Products (Price)</button>
    <button id="btn8">Oreder Products (Rating) toggle</button>
    <hr />
    <button id="btn9">Oreder Products (price) toggle</button>
    <button id="btn10">Oreder Products (title) toggle</button>
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3" style="white-space: pre; font-family: consolas"></p>

    <script>
      let fruits = ['Banana', 'kiwi', 'Orange', 'Apple', 'onion', 'Mango', 'Berry'];
      let points = [40, 115, 1, 5, 25, 12, 5, 28, 30];
      let products = [
        {
          id: 1,
          title: 'iPhone 9',
          price: 549,
          rating: 4.69,
          brand: 'Apple',
          category: 'smartphones',
        },
        {
          id: 2,
          title: 'iPhone X',
          price: 899,
          rating: 4.44,
          brand: 'Apple',
          category: 'smartphones',
        },
        {
          id: 3,
          title: 'Samsung Universe 9',
          price: 1249,
          rating: 4.09,
          brand: 'Samsung',
          category: 'smartphones',
        },
        {
          id: 4,
          title: 'OPPOF19',
          price: 280,
          rating: 4.3,
          brand: 'OPPO',
          category: 'smartphones',
        },
        {
          id: 5,
          title: 'Huawei P30',
          price: 499,
          rating: 4.09,
          brand: 'Huawei',
          category: 'smartphones',
        },
        {
          id: 6,
          title: 'MacBook Pro',
          price: 1749,
          rating: 4.57,
          brand: 'APPle',
          category: 'laptops',
        },
      ];

      /************** Sort Array String ***************/
      document.getElementById('btn1').onclick = function () {
        document.getElementById('p1').innerHTML = fruits;
      };

      document.getElementById('btn2').onclick = function () {
        fruits.reverse();
        document.getElementById('p1').innerHTML = fruits;
      };

      document.getElementById('btn3').onclick = function () {
        fruits.sort();
        document.getElementById('p1').innerHTML = fruits;
      };

      /************** Sort Array Number ***************/
      document.getElementById('btn41').onclick = function () {
        document.getElementById('p2').innerHTML = points;
      };

      document.getElementById('btn4').onclick = function () {
        // points.sort(); //Dosent Work

        /**** راه اول ****/
        // points.sort(compareAsc);

        /**** راه دوم ****/
        points.sort(function (a, b) {
          // if (a > b) return 1;
          // else if (a < b) return -1;
          // else return 0;

          return a - b;
        });

        document.getElementById('p2').innerHTML = points;
      };
      const compareAsc = function (a, b) {
        // if (a > b) return 1;
        // else if (a < b) return -1;
        // else return 0;

        return a - b;
      };

      document.getElementById('btn5').onclick = function () {
        /**** راه اول ****/
        // points.sort(compareDesc);

        /**** راه دوم ****/
        points.sort(function (a, b) {
          return b - a;
        });

        document.getElementById('p2').innerHTML = points;
      };

      const compareDesc = function (a, b) {
        // if (b > a) return 1;
        // else if (b < a) return -1;
        // else return 0;

        // return b - a;

        // if (a > b) return 1 * -1;
        // else if (a < b) return -1 * -1;
        // else return 0 * -1;

        return (a - b) * -1;
      };

      /******************/
      document.getElementById('btn31').onclick = function () {
        fruits.sort(function (f1, f2) {
          if (f2 > f1) return 1;
          else if (f2 < f1) return -1;
          else return 0;
        });
        document.getElementById('p1').innerHTML = fruits;
      };

      /*****************/
      const showProducts = function () {
        let txt = '';
        for (let product of products) {
          txt += `id = ${product.id} , title = ${product.title.padEnd(18, ' ')}, `;
          txt += `price = ${product.price.toString().padStart(4, ' ')}, `;
          txt += `rating = ${product.rating.toString().padEnd(4, ' ')}, `;
          txt += `brand = ${product.brand.padEnd(7, ' ')}, `;
          txt += `category = ${product.category} <br>`;
        }
        document.getElementById('p3').innerHTML = txt;
      };
      document.getElementById('btn6-1').onclick = function () {
        showProducts();
      };
      document.getElementById('btn6').onclick = function () {
        products.sort(function (product1, product2) {
          // if (product1.title > product2.title) return 1;
          // else if (product1.title < product2.title) return -1;
          // else return 0;

          /* case insensitive*/
          // if (product1.title.toUpperCase() > product2.title.toUpperCase()) return 1;
          // else if (product1.title.toUpperCase() < product2.title.toUpperCase()) return -1;
          // else return 0;

          // برای کارایی بهتر
          const car1Title = product1.title.toLowerCase();
          const car2Title = product2.title.toLowerCase();

          if (car1Title > car2Title) return 1;
          else if (car1Title < car2Title) return -1;
          else return 0;
        });

        showProducts();
      };

      document.getElementById('btn6-2').onclick = function () {
        products.sort(function (p1, p2) {
          if (p2.brand > p1.brand) return 1;
          else if (p2.brand < p1.brand) return -1;
          else return 0;
        });

        showProducts();
      };

      document.getElementById('btn7').onclick = function () {
        products.sort(function (p1, p2) {
          return p1.price - p2.price;
        });

        showProducts();
      };

      /*****************/
      let sortDirection = 1;
      document.getElementById('btn8').onclick = function () {
        products.sort(function (p1, p2) {
          return (p1.rating - p2.rating) * sortDirection;
        });

        sortDirection *= -1;

        showProducts();
      };
      /***********************************************/
      let isSortedByPrice = false;
      let isSortedByTitle = false;
      document.getElementById('btn9').onclick = function () {
        if (isSortedByPrice) {
          products.reverse();
        } else {
          products.sort(function (p1, p2) {
            return p1.price - p2.price;
          });

          isSortedByPrice = true;
          isSortedByTitle = false;
        }
        showProducts();
      };
      document.getElementById('btn10').onclick = function () {
        if (isSortedByTitle) {
          products.reverse();
        } else {
          products.sort(function (p1, p2) {
            if (p1.title > p2.title) return 1;
            else if (p1.title < p2.title) return -1;
            else return 0;
          });

          isSortedByPrice = false;
          isSortedByTitle = true;
        }

        showProducts();
      };
    </script>
  </body>
</html>
